<?xml version="1.0" encoding="UTF-8"?>

      <web-app
          version="4.0"
          xmlns="http://xmlns.jcp.org/xml/ns/javaee"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd">

        <display-name>mweb02</display-name>

        <welcome-file-list>
            <welcome-file>index.html</welcome-file>
            <welcome-file>index.htm</welcome-file>
            <welcome-file>index.jsp</welcome-file>
        </welcome-file-list>
            <!-- ====================== -->
            <!-- 공통 JSP 설정          -->
            <!-- ====================== -->

        <jsp-config>
            <jsp-property-group>
            <url-pattern>*.jsp</url-pattern>
            <page-encoding>UTF-8</page-encoding>
            <include-prelude>/WEB-INF/views/include.jsp</include-prelude>
            <trim-directive-whitespaces>true</trim-directive-whitespaces>
            <default-content-type>text/html; charset=utf8</default-content-type>
            </jsp-property-group>
        </jsp-config>


        <!-- =============================== -->
        <!-- Web Application 예외처리방법#1  -->
        <!-- =============================== -->

        <error-page>
            <error-code>500</error-code>
            <location>/JSP/error/500.jsp</location>
        </error-page>

        <error-page>
            <error-code>404</error-code>
            <location>/JSP/error/404.jsp</location>
        </error-page>

        <!-- =============================== -->
        <!-- Web Application 예외처리방법#2  -->
        <!-- =============================== -->

        <error-page>
            <exception-type>java.lang.NullPointerException</exception-type>
            <location>/JSP/error/null.jsp</location>
        </error-page>

        <!-- =============================== -->
        <!-- Http Session 만료시간설정(in minutes) -->
        <!-- =============================== -->

        <session-config>
            <session-timeout>30</session-timeout>
        </session-config>


        <!-- 컨텍스트 파라미터 공유데이터 2개 등록 -->
        <context-param>
            <param-name>jdbcDriver</param-name>
            <param-value>oracle.jdbc.driver.OracleDriver</param-value>
        </context-param>

        <context-param>
            <param-name>savePath</param-name>
            <param-value>C:\\save</param-value>
        </context-param>
        
          <servlet>
              <servlet-name>HelloServlet</servlet-name>
              <servlet-class>org.zerock.myapp.HelloServlet</servlet-class>
          </servlet>

          <servlet-mapping>
              <servlet-name>HelloServlet</servlet-name>
              <url-pattern>/hello</url-pattern>
          </servlet-mapping>

          <servlet>
            <servlet-name>EmpSelectServlet2</servlet-name>
            <servlet-class>org.zerock.myapp.EmpSelectServlet2</servlet-class>

            <init-param>
                <param-name>jdbcUrl</param-name>
                <param-value>jdbc:oracle:thin:@db202204131245_high?TNS_ADMIN=C:/opt/OracleCloudWallet/ATP</param-value>
            </init-param>
            
            <init-param>
                <param-name>driverClass</param-name>
                <param-value>oracle.jdbc.OracleDriver</param-value>
            </init-param>

            <init-param>
                <param-name>user</param-name>
                <param-value>scott</param-value>
            </init-param>

            <init-param>
                <param-name>pass</param-name>
                <param-value>Oracle123456</param-value>
            </init-param>

            </servlet>

            <servlet-mapping>
                <servlet-name>EmpSelectServlet2</servlet-name>
                <url-pattern>/EmpSelect2</url-pattern>
            </servlet-mapping>

            <servlet>
                <servlet-name>configJSP</servlet-name>
                <jsp-file>/JSP/config.jsp</jsp-file>

                <init-param>
                    <param-name>dirPath</param-name>
                    <param-value>C:/temp/upload</param-value>
                </init-param>

                <init-param>
                    <param-name>userid</param-name>
                    <param-value>trinity</param-value>
                </init-param>
            </servlet>

            <servlet-mapping>
                <servlet-name>configJSP</servlet-name>
                <url-pattern>/JSP/config.jsp</url-pattern>
                <url-pattern>/CONFIG</url-pattern>
            </servlet-mapping>

          <!-- ======================================================= -->
          <servlet>
            <servlet-name>InitParamsServlet</servlet-name>   
            <servlet-class>org.zerock.myapp.InitParamsServlet</servlet-class>
            <init-param>
                <param-name>dirPath</param-name>
                <param-value>DIR_PATH_VALUE</param-value>
            </init-param>

            <init-param>
                <param-name>userid</param-name>
                <param-value>USER_ID_VALUE</param-value>
            </init-param>

          </servlet>
          <servlet-mapping>
              <servlet-name>InitParamsServlet</servlet-name>
              <url-pattern>/InitParams</url-pattern>
          </servlet-mapping>
          
          <!-- ============================================= -->
          <listener>
            <listener-class>org.zerock.myapp.listener.ContextListenerImpl</listener-class>
          </listener>
        
          <!-- ================================================ -->
          <filter>
              <filter-name>MyFilter</filter-name>
              <filter-class>org.zerock.myapp.filter.MyFilter</filter-class>
          </filter>

          <filter-mapping>
              <filter-name>MyFilter</filter-name>
              <servlet-name>/*</servlet-name>
              <dispatcher>REQUEST</dispatcher>
          </filter-mapping>

          <filter>
            <filter-name>MyFilter2</filter-name>
            <filter-class>org.zerock.myapp.filter.MyFilter2</filter-class>
          </filter>

          <filter-mapping>
            <filter-name>MyFilter2</filter-name>
            <servlet-name>HelloServlet</servlet-name>
            <dispatcher>REQUEST</dispatcher>
          </filter-mapping>

          
      </web-app>